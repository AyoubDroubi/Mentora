# Database Seeder Documentation

## ?? ???????: 31 ?????? 2024

---

## ? ?? ?? ??????

### Data Seeder ????????

?? ????? ???? Seeding ?????? ???? ????? ???????? ??????? ???????? ??? ????? ??????? ???? ???.

---

## ?? ???????? ???????

### 1. ???????? ?????: ??? ??????

**??????? ??????**:
- ?????: ??? ??????
- Email: `saad@mentora.com`
- Password: `Saad@123`
- ?????: ?????? ??????
- ???????: ??????? ????????
- ??????: ???? ???????
- ??? ??????: 2024

**??? ????**:
- Bio: "???? ???? ?????? ???? ?????? ????????? ??????? ?????????"
- Phone: +962791234567
- LinkedIn: https://linkedin.com/in/saad-ahmad
- GitHub: https://github.com/saadahmad

**????????**:
- Total XP: 850
- Level: 5
- Current Streak: 12 days
- Tasks Completed: 25

**????????** (5 ??????):
1. C# - Intermediate
2. JavaScript - Intermediate
3. SQL - Beginner
4. React - Beginner
5. Git - Intermediate

**?????????** (3 achievements):
- First Steps
- Week Warrior
- Task Master

**??? ?????**:
- ?????: Senior Full Stack Developer
- ?????: 18 ???
- ????? ??????: Step 2 ?? 3

**???????**:
1. ????? ??????? ??????? (12 ?????) - ? Completed
2. ????? ?????? ????? (16 ?????) - ?? In Progress
3. ??????? ???? ????? (8 ??????) - ? Not Started

---

### 2. ????????? ???????: ????? ????

**??????? ??????**:
- ?????: ????? ????
- Email: `maria@mentora.com`
- Password: `Maria@123`
- ?????: ???? ????????
- ???????: ??????? ????????? ?? ???
- ??????: ????? ?????????
- ??? ??????: 2023

**??? ????**:
- Bio: "????? ????? ???????? ????? ????? ???????? ??????? ?????????"
- Phone: +971501234567
- LinkedIn: https://linkedin.com/in/maria-haddad
- GitHub: https://github.com/mariahaddad

**????????**:
- Total XP: 1250
- Level: 7
- Current Streak: 21 days
- Tasks Completed: 42

**????????** (5 ??????):
1. Python - Advanced
2. Machine Learning - Intermediate
3. Data Analysis - Intermediate
4. SQL - Advanced
5. Git - Advanced

**?????????** (5 achievements):
- First Steps
- Week Warrior
- Task Master
- Career Planner
- Skill Collector

**??? ?????**:
- ?????: Senior Data Scientist
- ?????: 24 ???
- ????? ??????: Step 3 ?? 4

**???????**:
1. ??????? ??? ???????? (10 ??????) - ? Completed
2. Machine Learning (16 ?????) - ? Completed
3. ?????? ????? ?? Data Science (20 ?????) - ?? In Progress
4. ?????? ?????? ?? ??? (12 ?????) - ? Not Started

---

## ?? ???????? ????????

### Skills (15 ?????):
- C#
- JavaScript
- Python
- SQL
- React
- ASP.NET Core
- Node.js
- Docker
- Git
- Azure
- Machine Learning
- Data Analysis
- UI/UX Design
- Project Management
- Communication

### Achievements (5 ???????):
1. **First Steps** - Complete your first study session (50 XP)
2. **Week Warrior** - Maintain a 7-day study streak (100 XP)
3. **Task Master** - Complete 10 study tasks (150 XP)
4. **Career Planner** - Create your first career plan (200 XP)
5. **Skill Collector** - Add 5 skills to your profile (75 XP)

---

## ?? ????? ?????????

### 1. ??????? ????????

??? ????? ??????? ???? ???? ??? ????? ??? Seeding ????????:

```bash
cd Server/src/Mentora.Api
dotnet run
```

**??????**: ??? Seeder ????? ????? ??? ???? ????? ???????? ?????? ???? ??? ??????? ?? ???? ???.

### 2. ????? ??????

????? ????? ?????? ????????:

**???**:
```
Email: saad@mentora.com
Password: Saad@123
```

**?????**:
```
Email: maria@mentora.com
Password: Maria@123
```

---

## ?? ??????? ???????

```
Server/src/Mentora.Infrastructure/Data/
??? DatabaseSeeder.cs                    ? ??? ??? Seeder ???????
```

---

## ?? ??????? ?? Program.cs

```csharp
// ?? Program.cs ??? build
using (var scope = app.Services.CreateScope())
{
    var services = scope.ServiceProvider;
    var logger = services.GetRequiredService<ILogger<Program>>();
    
    try
    {
        logger.LogInformation("Attempting to seed database...");
        await DatabaseSeeder.SeedAsync(services);
        logger.LogInformation("Database seeding completed successfully");
    }
    catch (Exception ex)
    {
        logger.LogError(ex, "An error occurred while seeding the database");
    }
}
```

---

## ?? ???????? ????????

### ????????:
- ? 2 ????????
- ? 2 ????? ????? ?????
- ? 2 UserStats
- ? 10 UserSkills
- ? 8 UserAchievements
- ? 2 Career Plans
- ? 7 Career Steps
- ? 15 Skills
- ? 5 Achievements

**?????**: 51 ??? ?? ????? ????????!

---

## ?? ????????

### 1. ????? ?????? ?????
```bash
# ???? ????? ???????? ???????
cd Server/src/Mentora.Infrastructure
dotnet ef database drop --startup-project ../Mentora.Api --force

# ???? ????? ?????
dotnet ef database update --startup-project ../Mentora.Api

# ???? ??????? - ??? Seeding ???? ????????
cd ../Mentora.Api
dotnet run
```

### 2. ???? ?? ????????
???? SSMS ?? Azure Data Studio:

```sql
-- ???? ?? ??????????
SELECT * FROM Users;

-- ???? ?? ????????
SELECT u.FirstName, s.Name, us.CurrentLevel
FROM UserSkills us
JOIN Users u ON us.UserId = u.Id
JOIN Skills s ON us.SkillId = s.Id;

-- ???? ?? ????? ???????
SELECT u.FirstName, cp.Title, cp.TargetRole, cp.TimelineMonths
FROM CareerPlans cp
JOIN Users u ON cp.UserId = u.Id;

-- ???? ?? ?????????
SELECT u.FirstName, a.Name, a.Description, ua.EarnedAt
FROM UserAchievements ua
JOIN Users u ON ua.UserId = u.Id
JOIN Achievements a ON ua.AchievementId = a.Id;
```

---

## ?? ???????

### ????? ???????? ???

?? `DatabaseSeeder.cs`? ??? method ????:

```csharp
private static async Task<User> SeedNewUserAsync(
    UserManager<User> userManager,
    ApplicationDbContext context,
    List<Skill> skills,
    List<Achievement> achievements,
    ILogger logger)
{
    // ??? ??? ???????? ?????? ???
}
```

?? ??????? ?? `SeedAsync`:
```csharp
var newUser = await SeedNewUserAsync(userManager, context, skills, achievements, logger);
```

### ????? ??? Seeding

?? `Program.cs`? ???? ??? ?????:
```csharp
// using (var scope = app.Services.CreateScope())
// {
//     await DatabaseSeeder.SeedAsync(services);
// }
```

---

## ?? ??????

### ???????:
- ? ????? ?????? ????? ???????? BCrypt ??? Identity
- ? ??? Seeder ???? ??? ??? ???? ????? ???????? ?????
- ?? **??????? ???**: ?? ?????? ??? ???????? ?? Production

---

## ?? ??????? ????????

```
AspNetUsers
AspNetUserRoles
UserProfiles
UserStats
UserSkills
UserAchievements
Skills
Achievements
CareerPlans
CareerSteps
```

---

## ?? ???????

? **?? ?? ??????**:
- Seeder ?????? ???? ??? ??????? ?????
- 2 ???????? ?????? ????? ????? (??? ??????)
- ?????? ??????: ??????? ???????? ??? ?????
- 15 ????? ? 5 ??????? ????? ?????????
- ??? ???????? ????????

**??????**: ? ???? ?????????
**??? ?????**: 31 ?????? 2024, 11:30 AM

---

**??? ???? ????! ??**

```bash
dotnet run
# ?? ???? ???? ?? saad@mentora.com ?? maria@mentora.com
```
