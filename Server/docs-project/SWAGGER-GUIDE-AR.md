# Swagger UI Guide - ???? ??????? ????? Swagger

## ?? ???? ????

Swagger UI ?? ????? ??????? ??????? ?????? ??? API ????? ?? Mentora.

? **???? ?????**: Swagger ???? ???????? ?? ???? ??????? (Development ? Production)!

---

## ?? ?????? ??? Swagger

### 1. ????? ???????
```bash
cd Server/src/Mentora.Api
dotnet run
```

### 2. ??? ???????
????? ??? ?? ?? ??????? ???????:

**?????? ???????** (???? Swagger ??????):
```
https://localhost:7xxx/
```

??

**???? Swagger ??????**:
```
https://localhost:7xxx/swagger
```

? **??????**: Swagger ???? ???????? ??? ?????? ???????? ???? ?????? ?????? `/swagger`

---

## ?? ????? ??????? Authentication

### ?????? 1: ????? ?????? ????
1. ???? ?? endpoint: **POST /api/auth/register**
2. ???? ??? "Try it out"
3. ???? ????????:
```json
{
  "firstName": "????",
  "lastName": "????",
  "email": "ahmed@example.com",
  "password": "Test@123"
}
```
4. ???? "Execute"
5. ??? ?? ???? ??? ??????? 200 OK

### ?????? 2: ????? ??????
1. ???? ?? endpoint: **POST /api/auth/login**
2. ???? ??? "Try it out"
3. ???? ????????:
```json
{
  "email": "ahmed@example.com",
  "password": "Test@123",
  "deviceInfo": "Chrome/Windows"
}
```
4. ???? "Execute"
5. ???? ???? `accessToken` ?? ?????????

### ?????? 3: ????? ??? Token
1. ???? ??? ?? **"Authorize"** ?? ???? ?????? (????? ?????? ??)
2. ?? ??????? ????????? ????:
```
Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```
   (???? ?? ????? `Bearer` ?????? ?????? ?? ??? token)
3. ???? "Authorize"
4. ???? "Close"

? ???? ??? ???? ?? ???????? ???? ??? endpoints ???????!

---

## ?? ??? ??? Endpoints

### ?? Public Endpoints (?? ????? ????? ????)

#### 1. POST /api/auth/register
????? ?????? ????
- **??????? ???? ??????**:
  - ??? ????? 8 ????
  - ??? ???? ???? ??? ?????
  - ??? ??? ???? ??? ?????

#### 2. POST /api/auth/login
????? ?????? ??????? ??? tokens
- **Returns**:
  - `accessToken`: ???? ???? 60 ?????
  - `refreshToken`: ???? ???? 7 ????

#### 3. POST /api/auth/refresh-token
????? ??? access token
- ??????? ????? ????? ?????? ??? access token
- ???? ?????? ??? refresh token ?????? ?????? ???? ????

#### 4. POST /api/auth/forgot-password
??? ????? ????? ???? ??????
- ??? ????? token ???? ???? ???? ?????

#### 5. POST /api/auth/reset-password
????? ????? ???? ?????? ???????? ??? token

---

### ?? Protected Endpoints (????? ????? ????)

#### 1. POST /api/auth/logout
????? ?????? ?? ?????? ??????
- ???? ??? refresh token ??????

#### 2. POST /api/auth/logout-all
????? ?????? ?? ???? ???????
- ???? ???? ??? refresh tokens ????????

#### 3. GET /api/auth/me
?????? ??? ??????? ???????? ??????
- ?????? ???????? ?? ??? JWT token

---

## ?? ??????? ??????? ?? Swagger UI

### ? Features
- **Try it out**: ?????? ??? endpoints ??????
- **Request samples**: ????? ????? ???????
- **Response samples**: ????? ?????????? ????????
- **Model schemas**: ??? ?????? ????? ??? Models
- **Request duration**: ??? ??? ????? ?????
- **Deep linking**: ???? ????? ??? endpoint
- **Filter**: ??? ?? ??? endpoints
- **Always Available**: ???? ?? ???? ??????? ???????? ?

### ?? Filters & Search
???? ??? ???? "Filter by tags" ?? ?????? ????? ?? endpoints ?????.

### ?? Models Section
???? ?????? ????? ???? ??? DTOs ???? Models ????????? ?? ??? API.

---

## ?? ?????????? ??????

### ????????? 1: ???? ????? ????????
```
1. POST /api/auth/register  ? ????? ?????? ????
2. POST /api/auth/login     ? ?????? ??? tokens
3. Authorize                ? ????? ??? token
4. GET  /api/auth/me        ? ??? ??????? ????????
5. POST /api/auth/logout    ? ????? ??????
```

### ????????? 2: ????? ????? ???? ??????
```
1. POST /api/auth/forgot-password  ? ??? reset token
2. (Check database for token)
3. POST /api/auth/reset-password   ? ????? ???????
4. POST /api/auth/login            ? ????? ???? ????? ?????? ???????
```

### ????????? 3: ????? ??? Token
```
1. POST /api/auth/login           ? ?????? ??? tokens
2. (Wait 60+ minutes)
3. POST /api/auth/refresh-token   ? ?????? ??? access token ????
```

---

## ?? ????? ????

### ? Do's
- ?????? "Try it out" ??????? ??? endpoints ??????
- ???? ??? "Description" ??? endpoint
- ???? ?? ??? "Response samples" ?????? ?? ?????? ????????
- ?????? ??? "Authorize" button ????? ??? protected endpoints
- ???? ???? Swagger ?? ???? ????? - ???? ????????! ?

### ? Don'ts
- ?? ???? ???? "Bearer" ??? ??? token
- ?? ?????? access token ????? ????????
- ?? ???? ??? tokens ?? ???? ??? ???
- ?? ????? ??? tokens ?? ???

---

## ?? ?? ??????? ???????

### ?????: "401 Unauthorized"
**????**:
1. ???? ?? ????? ?????? ?????
2. ???? ?? ????? ??? token ??? "Authorize" button
3. ???? ?? ????? "Bearer " ??? ??? token
4. ???? ?? ?????? ??? token (60 ?????)

### ?????: "400 Bad Request"
**????**:
1. ???? ?? ???? ??? JSON
2. ???? ?? ??? ???? ?????? ????????
3. ???? ?? ??????? ???? ??????

### ?????: "Swagger not loading"
**????**:
1. ???? ?? ????? ???????
2. ???? ?? ??????: `https://localhost:7xxx/`
3. ???? ????? ?????? (F5)
4. ???? ?? Console logs ???????

? **?????? ?????**: Swagger ???? ???? ?? ???? ???????? ?? ????? Development mode!

---

## ?? ??? ??????????

### Status Codes
- **200 OK**: ??????? ????
- **400 Bad Request**: ?????? ??? ?????
- **401 Unauthorized**: ??? ????? ????? ????? ????
- **409 Conflict**: ?????? ????? ??????
- **500 Internal Server Error**: ??? ?? ??????

### Response Structure
???? ?????????? ???? ?????:
```json
{
  "isSuccess": true/false,
  "message": "????? ???????",
  "accessToken": "...",      // ??? ??? login/refresh
  "refreshToken": "...",     // ??? ??? login/refresh
  "errors": ["..."]          // ??? ??? ???
}
```

---

## ?? ????? Swagger

?? ????? Swagger ?????? Mentora:
- **Primary Color**: #6B9080 (????)
- **Secondary Color**: #A4C3B2 (???? ????)

????? ????? ??????? ??:
`Server/src/Mentora.Api/wwwroot/swagger-ui/custom.css`

---

## ?? Swagger ?? ???? ???????

### Development
```
? Swagger ???? ????????
? ???? ??????? ?????
? Try it out ???? ?????????
```

### Production
```
? Swagger ???? ????????
? ????? ??? API Documentation
? ???? ??????? ?? ?????? ????????
```

### ?? ????? ???? ??? Production
?? ??? ???? ????? Swagger ?? Production? ???? `Program.cs`:
```csharp
if (app.Environment.IsDevelopment())
{
    app.UseSwaggerDocumentation();
}
```

---

## ?? ?????

??? ????? ?? ?????:
1. ???? ?? Console logs
2. ???? Response body ?????? ??? ?????? ?????
3. ???? ?? ????? ???? ??? migrations
4. ???? ??? `docs/QUICK-START-AR.md`
5. ???? ?? ?? ??????? ???? ??? `https://localhost:7xxx`

---

## ?? Quick Access

?????? ?????? ?? Swagger:
1. ???? ???????: `dotnet run`
2. ????: `https://localhost:7xxx/`
3. ???? ??????? ??????! ??

---

**??? ?????**: 31 ?????? 2024
**???????**:
